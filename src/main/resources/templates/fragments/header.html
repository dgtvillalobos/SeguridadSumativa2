<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<body>
<nav th:fragment="header"
     class="navbar navbar-expand-lg navbar-dark bg-dark border-bottom border-light border-opacity-10"
     xmlns:sec="https://www.thymeleaf.org/extras/spring-security">
  <div class="container ">
    <a class="navbar-brand" th:href="@{/recetas}">Recetario</a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#nav"></button>
    <div class="collapse navbar-collapse my-3" id="nav">
      <ul class="navbar-nav ms-auto">
        <li class="nav-item"><a class="nav-link" th:href="@{/recetas}">Inicio</a></li>
    

        <!-- No Logueado -->
        <li class="nav-item" sec:authorize="!isAuthenticated()">
          <a class="btn btn-outline-warning ms-2" th:href="@{/login}">Login</a>
        </li>

        <!-- Si logueado -->
     <li class="nav-item dropdown" sec:authorize="isAuthenticated()">
  <a class="nav-link dropdown-toggle" href="#" id="userDropdown" role="button" data-bs-toggle="dropdown">
    ðŸ‘¤ <span sec:authentication="name"></span>
  </a>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="userDropdown">
    <li>
      <form th:action="@{/logout}" method="post" class="px-3 m-0">
        <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
        <button class="dropdown-item text-danger" type="submit">Cerrar sesiÃ³n</button>
      </form>
    </li>
  </ul>
</li>


      </ul>
      <hr class="text-white">
    </div>
  </div>
</nav>
</body>
</html>
